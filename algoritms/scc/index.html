<!doctype html>
<html>
   <head>
      <title>Quiz Q 4</title>
      <script type="text/javascript" src="scc.js"></script>
      <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js" type="text/javascript"></script>
   </head>
   <body>
      Result:
      <script type="text/javascript">
          $(document).ready(function () {
             var numberOfCalls = 0, scc1, scc2, scc3, scc4;
              $.ajax({
                  url: "scc1.txt",
                  dataType: 'text',
                  success: function (data) {
                     scc1 = data;
                     promise();
                  },
                  error: function () {
                      alert('error');
                  }
              });

            function promise() {
               ++numberOfCalls;
               console.log('promise '+numberOfCalls);
			   switch (numberOfCalls) {
			   case 1:
				   $.ajax({
					  url: "scc2.txt",
					  dataType: 'text',
					  success: function (data) {
						 scc2 = data;
						 promise();
					  },
					  error: function () {
						  alert('error');
					  }
				  });
			   break;
			   case 2:
				   $.ajax({
					  url: "scc3.txt",
					  dataType: 'text',
					  success: function (data) {
						 scc3 = data;
						 promise();
					  },
					  error: function () {
						  alert('error');
					  }
				  });
			   break;
			   case 3:
				   $.ajax({
					  url: "scc4.txt",
					  dataType: 'text',
					  success: function (data) {
						 scc4 = data;
						 promise();
					  },
					  error: function () {
						  alert('error');
					  }
				  });
			   break;
			   case 4:
                   var data = scc1 + '\n' + scc2 + '\n' + scc3 + '\n' + scc4;
                   console.log(data);
                   var G = prepareInputData(data);
                   var result = scc(G);
                   console.log(result);
			   break;
			   default:
			   break;
			   }
            }
			
			// todo: take out copypasta below
			function loadAnotherPart(num) {

			}
          });
      </script>
   </body>
</html>